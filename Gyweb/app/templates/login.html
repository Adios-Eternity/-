
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>bootstrap案例</title>
    <!--用百度的静态资源库的cdn安装bootstrap环境-->
    <!-- Bootstrap 核心 CSS 文件 -->
    <link href="http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!--font-awesome 核心我CSS 文件-->
    <link href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 在bootstrap.min.js 之前引入 -->
    <script src="../static/js/jquery.min.js"></script>
    <!-- Bootstrap 核心 JavaScript 文件 -->
    <script src="../static/js/bootstrap.min.js"></script>
    <!--jquery.validate-->
    <script type="text/javascript" src="js/jquery.validate.min.js" ></script>
    <script type="text/javascript" src="js/message.js" ></script>
    <style type="text/css">
        body{background: url(img/4.jpg) no-repeat;background-size:cover;font-size: 16px;}
        .form{background: rgba(255,255,255,0.2);width:400px;margin:100px auto;}
        #login_form{display: block;}
        .fa{display: inline-block;top: 27px;left: 6px;position: relative;color: #ccc;}
        input[type="text"],input[type="password"]{padding-left:26px;}
    </style>
</head>
<body>

<div class="container">
    <div class="form row">
        <form class="form-horizontal col-sm-offset-3 col-md-offset-3" id="login_form">
            <h3 class="form-title">Login to your account</h3>
            <div class="col-sm-9 col-md-9">
                <div class="form-group">
                    <i class="fa fa-user fa-lg"></i>
                    <input class="form-control required" type="text" placeholder="Username" name="lusername" id="lusername" autofocus="autofocus" maxlength="20"/>
                </div>
                <div class="form-group">
                    <i class="fa fa-lock fa-lg"></i>
                    <input class="form-control required" type="password" placeholder="Password" name="lpassword" id="lpassword" maxlength="16"/>
                </div>
                <div class="form-group">
                    <!--                    <a href="{{ url_for('web.register_m') }}" id="register_btn" class="">Create an account</a>-->
                </div>
                <div class="form-group">
                    <input type="submit" class="btn btn-success pull-right" onclick="dologin()" value="登录 "/>
                </div>
                <h4 id="content"></h4>
            </div>
        </form>
    </div>
</div>
<script type="text/javascript">
    function dologin(){
        var loginusername = $.trim($("#lusername").val());
        var loginpassword = $.trim($("#lpassword").val());
        var oUl=document.getElementById('content');

        if(loginpassword.length < 5){
            window.alert("用户名或密码长度太短！")
            return false;
        }
        else{
            var param = "username=" + loginusername;
            param += "&password=" + loginpassword;
            $.post('/login', param, function (data){
                if(data == "login-fail"){
                    window.alert("登陆失败！请重试")
                }
                else if(data == "login-pass"){
                    oUl.innerHTML+="<h4 style='text-align: center;color: #1E90FF'>登录成功!!!</h4>";
                    window.location.href="{{ url_for('web.home') }}";
                }
            })
        }
    }


</script>
</body>
</html>
